(()=>{var l=()=>{let c=document.querySelectorAll('a[href^="#"]'),n=c[0]?.getAttribute("href");c.forEach(r=>{r.addEventListener("click",s=>{s.preventDefault();let e=r.getAttribute("href");if(e){let o=document.querySelector(e);if(o){o.scrollIntoView({behavior:"smooth"});let t=n==e?"/":`${e}`;history.replaceState(void 0,"",t)}}})});let i=new IntersectionObserver(r=>{r.forEach(s=>{let e=`#${s.target.getAttribute("id")}`;if(s.isIntersecting){c.forEach(t=>{t.getAttribute("href")===e?t.classList.add("active"):t.classList.remove("active")});let o=n==e?"/":e;history.replaceState(void 0,"",o)}})},{threshold:.5});document.querySelectorAll("section[id]").forEach(r=>{i.observe(r)})};var m=()=>{document.querySelectorAll('form[action][method="POST"]').forEach(n=>{n.addEventListener("submit",async i=>{i.preventDefault();let a=new FormData(n),r=n.getAttribute("action");if(r){let e=await(await fetch(r,{method:"POST",body:a})).text(),o=document.createElement("div");o.innerHTML=e;let t=o.querySelector("[data-replaces]");if(t){t.classList.add("is-replaced");let d=document.querySelector(t.getAttribute("data-replaces")||"");d&&d.replaceWith(t)}}})})};document.addEventListener("DOMContentLoaded",()=>{l(),m()});})();
